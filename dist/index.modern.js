class t{constructor(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}}class e{constructor(e,n){this.sourceIndex=0,this.tag=0,this.bitCount=0,this.destLen=0,this.lengthTree=new t,this.distanceTree=new t,this.source=void 0,this.dest=void 0,this.source=e,this.dest=n}}const n=new t,r=new t,o=new Uint8Array(30),s=new Uint16Array(30),a=new Uint8Array(30),c=new Uint16Array(30),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=new t,f=new Uint8Array(320);function d(t,e,n,r){for(let e=0;e<n;++e)t[e]=0;for(let e=0;e<30-n;++e)t[e+n]=e/n|0;for(let n=0,o=r;n<30;++n)e[n]=o,o+=1<<t[n]}const l=new Uint16Array(16);function b(t,e,n,r){let o,s;for(o=0;o<16;++o)t.table[o]=0;for(o=0;o<r;++o)t.table[e[n+o]]++;for(t.table[0]=0,s=0,o=0;o<16;++o)l[o]=s,s+=t.table[o];for(o=0;o<r;++o)e[n+o]&&(t.trans[l[e[n+o]]++]=o)}function h(t){t.bitCount--||(t.tag=t.source[t.sourceIndex++],t.bitCount=7);const e=1&t.tag;return t.tag>>>=1,e}function w(t,e,n){if(!e)return n;for(;t.bitCount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitCount,t.bitCount+=8;const r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitCount-=e,r+n}function g(t,e){for(;t.bitCount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitCount,t.bitCount+=8;let n=0,r=0,o=0,s=t.tag;do{r=2*r+(1&s),s>>>=1,++o,n+=e.table[o],r-=e.table[o]}while(r>=0);return t.tag=s,t.bitCount-=o,e.trans[n+r]}function C(t,e,n){let r,o,s;const a=w(t,5,257),c=w(t,5,1),d=w(t,4,4);for(r=0;r<19;++r)f[r]=0;for(r=0;r<d;++r){const e=w(t,3,0);f[i[r]]=e}for(b(u,f,0,19),o=0;o<a+c;){const e=g(t,u);switch(e){case 16:{const e=f[o-1];for(s=w(t,2,3);s;--s)f[o++]=e;break}case 17:for(s=w(t,3,3);s;--s)f[o++]=0;break;case 18:for(s=w(t,7,11);s;--s)f[o++]=0;break;default:f[o++]=e}}b(e,f,0,a),b(n,f,a,c)}function x(t,e,n){let r=g(t,e);for(;256!==r;){if(r<256)t.dest[t.destLen++]=r;else{let e;r-=257;const i=w(t,o[r],s[r]),u=g(t,n),f=t.destLen-w(t,a[u],c[u]);for(e=f;e<f+i;++e)t.dest[t.destLen++]=t.dest[e]}r=g(t,e)}return 0}function y(t){let e,n;for(;t.bitCount>8;)t.sourceIndex--,t.bitCount-=8;if(e=t.source[t.sourceIndex+1],e=256*e+t.source[t.sourceIndex],n=t.source[t.sourceIndex+3],n=256*n+t.source[t.sourceIndex+2],e!==(65535&~n))return-3;t.sourceIndex+=4;for(let n=e;n;--n)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitCount=0,0}function I(t,o){const s=new e(t,o);let a,c,i;do{switch(a=h(s),c=w(s,2,0),c){case 0:i=y(s);break;case 1:i=x(s,n,r)||0;break;case 2:C(s,s.lengthTree,s.distanceTree),i=x(s,s.lengthTree,s.distanceTree)||0;break;default:i=-3}if(0!==i)throw new Error("Data error")}while(!a);return s.destLen<s.dest.length?"function"==typeof s.dest.slice?s.dest.slice(0,s.destLen):s.dest.subarray(0,s.destLen):s.dest}!function(t,e){let n=0;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}(n,r),d(o,s,4,3),d(a,c,2,1),o[28]=0,s[28]=258;export default I;
//# sourceMappingURL=index.modern.js.map
